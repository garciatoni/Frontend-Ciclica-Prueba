{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Home.vue?23d5","webpack:///./src/composables/usePlacesStore.ts","webpack:///./src/components/usersComponent/userComponent.vue?1b61","webpack:///./src/components/mapComponent/mapComponent.vue?f89e","webpack:///./src/App.vue?2281","webpack:///./src/App.vue","webpack:///./src/App.vue?1a50","webpack:///./src/views/Home.vue?af25","webpack:///./src/components/titulo.vue?7c7e","webpack:///./src/components/titulo.vue","webpack:///./src/components/titulo.vue?02dc","webpack:///./src/components/mapComponent/mapComponent.vue?ee31","webpack:///./src/components/usersComponent/userComponent.vue?431e","webpack:///./src/components/usersComponent/userComponent.ts","webpack:///./src/components/usersComponent/userComponent.vue","webpack:///./src/components/mapComponent/mapComponent.ts","webpack:///./src/components/mapComponent/mapComponent.vue","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?a3b5","webpack:///./src/router/index.ts","webpack:///./src/store/places/state.ts","webpack:///./src/store/places/actions.ts","webpack:///./src/store/places/getters.ts","webpack:///./src/store/places/mutations.ts","webpack:///./src/store/places/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","usePlacesStore","store","getters","dispatch","isLoading","state","places","userLocation","titulo","users","mapa","marcadores","mensaje","isUserlocationReady","setTitulo","commit","setUser","user","setMapa","setUserMarkers","setMensaje","id","to","__exports__","render","class","_ctx","_cache","$props","$setup","$data","$options","_component_Titulo","_component_MapComponent","msg","props","String","_hoisted_5","_hoisted_6","for","active","checked","_component_UserComponent","userActive","onClick","$event","goCoords","Cordenadas","Nombre","setup","coords","lng","lat","flyTo","center","zoom","components","UserComponent","iniciarMapa","map","Map","container","style","forEach","marcador","addTo","addControl","NavigationControl","layerList","getElementById","inputs","getElementsByTagName","a","onclick","layer","layerId","setStyle","Titulo","MapComponent","routes","path","component","Home","router","history","actions","getUserLocation","navigator","geolocation","getCurrentPosition","longitude","latitude","log","getTitulo","getUsers","getMapa","mutation","setLngLat","setUsers","remove","Popup","setHTML","Marker","setPopup","placesModule","namespaced","mutations","accessToken","alert","App","use","mount"],"mappings":"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","file":"js/app.041a9177.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0e5e97\":\"610171be\",\"chunk-2d215fad\":\"2d303151\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Frontend-Ciclica-Prueba/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Home.vue?vue&type=style&index=0&id=4685bdb3&scoped=true&lang=css\"","import { onMounted, computed } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { StateInterface } from \"@/store/index\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\n\r\nexport const usePlacesStore = () =>{\r\n    /** La store que uso en la app, dependiendo del tamaño de esta pueden haber mas para organizar el proyecto, \r\n      tratandose de un proyecto pequeño solo he usado una store para toda la app. */\r\n    const store = useStore<StateInterface>();\r\n\r\n    onMounted( () => {\r\n        if ( !store.getters['places/isUserlocationReady']){\r\n            store.dispatch('places/getUserLocation')\r\n        }\r\n    })\r\n    //Si el usuario NO esta geolocalizado lo geolocaliza.\r\n\r\n    return{\r\n        //state\r\n        isLoading: computed(() => store.state.places.isLoading),\r\n        userLocation: computed(() => store.state.places.userLocation),\r\n        titulo: computed(() => store.state.places.titulo),\r\n        users: computed(() => store.state.places.users),\r\n        mapa: computed(() => store.state.places.mapa),\r\n        marcadores: computed(() => store.state.places.marcadores),\r\n        mensaje: computed(() => store.state.places.mensaje),\r\n\r\n\r\n        //getters\r\n        isUserlocationReady: computed<boolean>(() => store.getters['places/isUserlocationReady']),\r\n\r\n        //Mutations\r\n        setTitulo: (titulo: string) => store.commit('places/setTitulo', titulo),\r\n        setUser: (user: any) => store.commit('places/setUsers', user) ,\r\n        setMapa: ( mapa: mapboxgl.Map) => store.commit('places/setMapa', mapa),\r\n        setUserMarkers: ( users: any) => store.commit('places/setUserMarkers', users),\r\n        setMensaje: (error: string) => store.commit('places/setMensaje', error),\r\n\r\n\r\n    }\r\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./userComponent.vue?vue&type=style&index=0&id=79f2d639&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./mapComponent.vue?vue&type=style&index=0&id=c5da5a56&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=dfc03020&lang=css\"","<template>\n  <div id=\"nav\">\n    <router-link to=\"/\">Mapa</router-link> |\n    <router-link to=\"/form\">Formulario</router-link>\n  </div>\n  <router-view/>\n</template>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #000000;\n}\n\n#nav {\n  padding: 30px;\n}\n\n#nav a {\n  font-weight: bold;\n  color: #ae00ff;\n}\n\n#nav a.router-link-exact-active {\n  color: #25043b;\n}\n</style>\n\n<!-- Tratandose de una app muy basica he creido conveniente dejar el menu de navegación que trae por defecto vue-->\n","import { render } from \"./App.vue?vue&type=template&id=dfc03020\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=dfc03020&lang=css\"\n\nimport exportComponent from \"D:\\\\Proyectos\\\\Vue.js\\\\ciclica-frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4685bdb3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"home\" }\nconst _hoisted_2 = { class: \"Mapa\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Titulo = _resolveComponent(\"Titulo\")!\n  const _component_MapComponent = _resolveComponent(\"MapComponent\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_Titulo, { msg: _ctx.titulo }, null, 8, [\"msg\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_MapComponent)\n    ])\n  ]))\n}","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"Titulo\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h1\", null, _toDisplayString(_ctx.msg), 1)\n  ]))\n}","\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'Titulo',\n  props: {\n    msg: String,\n  },\n});\n","import { render } from \"./titulo.vue?vue&type=template&id=23ecc2cc&ts=true\"\nimport script from \"./titulo.vue?vue&type=script&lang=ts\"\nexport * from \"./titulo.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\Proyectos\\\\Vue.js\\\\ciclica-frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c5da5a56\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"loading-map d-flex justify-content-center align-items-center\"\n}\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"text-center\" }, [\n  /*#__PURE__*/_createElementVNode(\"h3\", null, \"Espere\"),\n  /*#__PURE__*/_createElementVNode(\"span\", null, \"Localizando tu ubicacion\")\n], -1))\nconst _hoisted_3 = [\n  _hoisted_2\n]\nconst _hoisted_4 = { class: \"d-flex\" }\nconst _hoisted_5 = {\n  class: \"map-container\",\n  id: \"map\"\n}\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"menu\",\n  class: \"d-flex mt-2 m-4 bg-light align-items-center rounded-2 opacity-75\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"div\", { id: \"opciones\" }, [\n    /*#__PURE__*/_createElementVNode(\"input\", {\n      id: \"satellite-v9\",\n      type: \"radio\",\n      name: \"rtoggle\",\n      value: \"satellite\"\n    }),\n    /*#__PURE__*/_createElementVNode(\"label\", { for: \"satellite-v9\" }, \"Satelite\")\n  ]),\n  /*#__PURE__*/_createElementVNode(\"div\", { id: \"opciones\" }, [\n    /*#__PURE__*/_createElementVNode(\"input\", {\n      id: \"dark-v10\",\n      type: \"radio\",\n      name: \"rtoggle\",\n      value: \"dark\"\n    }),\n    /*#__PURE__*/_createElementVNode(\"label\", { for: \"dark-v10\" }, \"Oscuro\")\n  ]),\n  /*#__PURE__*/_createElementVNode(\"div\", { id: \"opciones\" }, [\n    /*#__PURE__*/_createElementVNode(\"input\", {\n      id: \"streets-v11\",\n      type: \"radio\",\n      active: \"\",\n      name: \"rtoggle\",\n      value: \"streets\",\n      checked: \"checked\"\n    }),\n    /*#__PURE__*/_createElementVNode(\"label\", { for: \"streets-v11\" }, \"Calles\")\n  ])\n], -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_UserComponent = _resolveComponent(\"UserComponent\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (!_ctx.isUserlocationReady)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _withDirectives(_createElementVNode(\"div\", _hoisted_5, null, 512), [\n        [_vShow, _ctx.isUserlocationReady]\n      ]),\n      _createVNode(_component_UserComponent),\n      _hoisted_6\n    ])\n  ], 64))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-79f2d639\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"menuUsers d-flex ms-3 mt-2\" }\nconst _hoisted_2 = { class: \"scrollBar\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"fw-bold\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.users, (user) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: user.id,\n          class: _normalizeClass([\"user-select-none user\", { 'activada': user.id === _ctx.userActive}]),\n          onClick: ($event: any) => ( _ctx.goCoords(user.Cordenadas) )\n        }, [\n          _createElementVNode(\"p\", _hoisted_4, _toDisplayString(user.Nombre), 1),\n          _createElementVNode(\"p\", null, \"Id: \" + _toDisplayString(user.id), 1),\n          _createElementVNode(\"p\", null, \"Lng: \" + _toDisplayString(user.Cordenadas[0]) + \"º\", 1),\n          _createElementVNode(\"p\", null, \"Lat: \" + _toDisplayString(user.Cordenadas[1]) + \"º\", 1)\n        ], 10, _hoisted_3))\n      }), 128))\n    ])\n  ]))\n}","import { usePlacesStore } from '@/composables/usePlacesStore';\r\nimport { defineComponent } from 'vue';\r\n\r\n/**Scrip de userComponent.vue, he optado por separlo para demostrar que se trabajar de ambas maneras, a lo personal me resulta mas comoda esta forma\r\n * de trabajo.\r\n */\r\n\r\nexport default defineComponent({\r\n    name: 'userComponent',\r\n    setup(){\r\n\r\n\r\n        const { users:{value}, mapa } = usePlacesStore();\r\n        const users = value;\r\n\r\n\r\n        //Funcion que al activarse el evento \"click\" lleva al usuario al marcador de cualquier usuario registrado previamente en la app\r\n        const goCoords = (coords: any) => {\r\n            const [lng, lat] = coords;\r\n            mapa.value?.flyTo({\r\n                center: [lng, lat],\r\n                zoom: 15\r\n            });\r\n        }\r\n\r\n        return{\r\n            users,\r\n            goCoords\r\n        }\r\n    }\r\n\r\n\r\n\r\n});","import { render } from \"./userComponent.vue?vue&type=template&id=79f2d639&scoped=true&ts=true\"\nimport script from \"./userComponent.ts?vue&type=script&lang=ts\"\nexport * from \"./userComponent.ts?vue&type=script&lang=ts\"\n\nimport \"./userComponent.vue?vue&type=style&index=0&id=79f2d639&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Proyectos\\\\Vue.js\\\\ciclica-frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-79f2d639\"]])\n\nexport default __exports__","import { defineComponent, onMounted, watch } from \"vue\";\r\nimport mapboxgl from \"mapbox-gl\";\r\nimport { usePlacesStore } from '../../composables/usePlacesStore';\r\nimport UserComponent from '@/components/usersComponent/userComponent.vue';\r\n\r\nexport default defineComponent({\r\n    name: 'mapComponent',\r\n    components: {\r\n        UserComponent\r\n    },\r\n    setup(){\r\n\r\n        const { isUserlocationReady, userLocation, users, setMapa, setUserMarkers, marcadores, mapa } = usePlacesStore();\r\n\r\n        //Función que inicia el mapa\r\n        const iniciarMapa = async () => {\r\n            //Compruebo que existen las cordenadas de la ubicacion del usuario, de lo contrario aviso con un error.\r\n            if ( !userLocation.value) throw new Error('No existe la localizacion del usuario');\r\n\r\n            //Pongo esto para que la resolucion del mapa se cargue correctamente.\r\n            await Promise.resolve();\r\n\r\n            //Declaro el mapa de mapboxgl\r\n            const map = new mapboxgl.Map({\r\n                container: 'map', // container ID\r\n                style: 'mapbox://styles/mapbox/streets-v11', // style URL\r\n                center: userLocation.value, // starting position [lng, lat]\r\n                zoom: 12 // starting zoom\r\n            });\r\n\r\n            //Añado los marcadores dinamicos y los Popup, Cada usuario tiene un marcador con su respectivo popup que se genera dinamicamente.\r\n            (marcadores.value).forEach(marcador => {\r\n                marcador.addTo( map )\r\n            });\r\n\r\n            //Añado navegacion basica al mapa\r\n            map.addControl(new mapboxgl.NavigationControl());\r\n\r\n            //guardo el mapa en vuex para usarlo en otros componentes.\r\n            setMapa( map );\r\n\r\n            //Selector de capas\r\n            const layerList = document.getElementById('menu');\r\n            const inputs = layerList!.getElementsByTagName('input');\r\n            for(let a=0;a<inputs.length;a++){\r\n                inputs[a].onclick = (layer: any) => {\r\n                    const layerId = layer.target.id;\r\n                    map.setStyle('mapbox://styles/mapbox/' + layerId);\r\n                };\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        //Si la ubicacion del usuario existe, carga el mapa, junto a los marcadores de cada usuario\r\n        onMounted(() => {\r\n            if ( isUserlocationReady.value ) \r\n                iniciarMapa();\r\n                setUserMarkers(users.value)\r\n            \r\n        });\r\n\r\n        //Si la ubicacion del usuario existe, carga el mapa, junto a los marcadores de cada usuario\r\n        watch (isUserlocationReady, () => {\r\n            if ( isUserlocationReady.value ) iniciarMapa();\r\n            setUserMarkers(users.value)\r\n            \r\n\r\n        })\r\n\r\n        return {\r\n            isUserlocationReady,        \r\n        }\r\n    }\r\n});","import { render } from \"./mapComponent.vue?vue&type=template&id=c5da5a56&scoped=true&ts=true\"\nimport script from \"./mapComponent.ts?vue&type=script&lang=ts\"\nexport * from \"./mapComponent.ts?vue&type=script&lang=ts\"\n\nimport \"./mapComponent.vue?vue&type=style&index=0&id=c5da5a56&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Proyectos\\\\Vue.js\\\\ciclica-frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c5da5a56\"]])\n\nexport default __exports__","\n\n//Distintas importaciones\nimport { defineComponent } from 'vue';\nimport Titulo from '@/components/titulo.vue';\nimport { usePlacesStore } from '@/composables/usePlacesStore';\nimport MapComponent from '@/components/mapComponent/mapComponent.vue'\n\n\n\nexport default defineComponent({\n  name: 'Home',\n  components: {\n    Titulo,\n    MapComponent,\n  },\n  setup(){\n\n    //Defino titulo del store\n    const { titulo } = usePlacesStore();\n\n    //Le digo a la vista home que use mi store de Typescript.\n    usePlacesStore();\n  \n    return{\n      titulo,\n    }\n\n  }\n});\n","import { render } from \"./Home.vue?vue&type=template&id=4685bdb3&scoped=true&ts=true\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=4685bdb3&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Proyectos\\\\Vue.js\\\\ciclica-frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4685bdb3\"]])\n\nexport default __exports__","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router'\nimport Home from '../views/Home.vue'\n\n//Rutas que uso en la app, al tratarse de solo 2 solo hay estas rutas\n///:catchAll(.*)\"  : Detecta cualquier ruta que no este establecida y devuelve la vista de un componente 404VistaNotFound.\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/form',\n    name: 'Form',\n    component: () => import('../views/Form.vue')\n  },\n  {\n    path: \"/:catchAll(.*)\",\n    component: () => import('@/views/NotFound.vue')\n  },\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","import mapboxgl from \"mapbox-gl\";\r\n\r\nexport interface PlacesState {\r\n    isLoading: boolean;\r\n    userLocation?:[number, number];\r\n    titulo: string;\r\n    users: any;\r\n    mapa: any; //Guardo el mapa en el state por si necesito usarlo en otro componente que no sea el componente del mapa\r\n    marcadores: mapboxgl.Marker[];\r\n    mensaje: string;\r\n}\r\n\r\nfunction state(): PlacesState {\r\n    return {\r\n\r\n        isLoading: true,\r\n        userLocation: undefined,\r\n        titulo:  \"Prueba Frontend CÍCLICA\",\r\n        users:[\r\n            {\r\n              id: 1,\r\n              Nombre: 'Ciclica',\r\n              Cordenadas: [2.16,  41.39]\r\n            },\r\n            {\r\n              id: 2,\r\n              Nombre: 'Ciclica Dos',\r\n              Cordenadas: [2.13, 41.4]\r\n            }\r\n          ],\r\n        mapa: undefined,\r\n        marcadores: [],\r\n        mensaje: '',\r\n\r\n\r\n    }\r\n}\r\n\r\n/** Defino todas mis variables del state.\r\n * He optado por guardar a los usuarios como un array en el store para luego mostrarlos en el mapa de manera sencila, \r\n * en un proyecto que tenga que salir a produción se usaria una base de datos (mongodb, firebase, etc.).\r\n */\r\n\r\n\r\nexport default state;","import { ActionTree } from 'vuex';\r\nimport { PlacesState } from './state';\r\nimport { StateInterface } from '../index';\r\n\r\n//Accion de geolocalizar al usuario que visita la web, si no es posible geolocalizar al usuario se le avisa con un error.\r\n//Si la geolocalizacion es correcta, se guardan las cordenadas en el state.\r\nconst actions: ActionTree<PlacesState, StateInterface> = {\r\n    getUserLocation( { commit } ) {\r\n        navigator.geolocation.getCurrentPosition(\r\n            ({coords}) => commit('setLngLat', {lng: coords.longitude, lat: coords.latitude}),\r\n            ( error ) => {\r\n                console.log(error)\r\n                throw new Error ('No se ha podido geolocalizar')\r\n            }\r\n        );\r\n    },  \r\n};\r\n\r\n//Acción que llamo cuando se carga la app para geolocalizar al usuario.\r\n//De esta forma el mapa aparece centrado en su posición\r\n\r\n\r\nexport default actions;","import { GetterTree } from 'vuex';\r\nimport { PlacesState } from './state';\r\nimport { StateInterface } from '../index';\r\n\r\n\r\nconst getters: GetterTree<PlacesState, StateInterface> = {\r\n    isUserlocationReady( state ) {\r\n        return !!state.userLocation;\r\n    },\r\n    getTitulo( state ) {\r\n        return state.titulo;\r\n    },\r\n    getUsers( state ) {\r\n        return state.users;\r\n    },\r\n    getMapa(state){\r\n        return !!state.mapa;\r\n    }\r\n\r\n\r\n}\r\n\r\n//Getters \r\n\r\nexport default getters;","import { MutationTree } from 'vuex';\r\nimport { PlacesState } from './state';\r\nimport mapboxgl from 'mapbox-gl';\r\n\r\n\r\n//Mutacion del userLocation\r\nconst mutation: MutationTree<PlacesState> = {\r\n\r\n    //Guardo la geolocalizacion del usuario en el state.\r\n    setLngLat( state: PlacesState, {lng, lat}: {lng:number, lat: number}) {\r\n        state.userLocation = [lng, lat];\r\n        state.users[0].Cordenadas = [lng, lat];\r\n        state.isLoading = false;\r\n    },\r\n\r\n    //Guardo el nuevo titulo al state.\r\n    setTitulo(state, titulo: string){\r\n        state.titulo = titulo;\r\n    },\r\n\r\n    setMensaje(state, mensaje: string){\r\n        state.mensaje = mensaje;\r\n    },\r\n\r\n    //Guardo usuarios en el state\r\n    setUsers(state, user: any){\r\n        state.users.push(user)\r\n    },\r\n\r\n    //Guardo el mapa en el state\r\n    setMapa(state, mapa: mapboxgl.Map){\r\n        state.mapa = mapa\r\n    },\r\n\r\n    /*Guardo los marcadores para cada usuario, asi nada mas entrar en la app se ven 2 marcadores (1 para cada usuario) y a medida \r\n    que se van añadiendo usuarios se colocan sus respectivos marcadores con sus posiciones, al clicar en un usuario se desplaza \r\n    automaticamente a su marcador*/\r\n    setUserMarkers(state, users: any){\r\n\r\n        //Borro los marcadores antiguos\r\n        state.marcadores.forEach( marcador => marcador.remove());\r\n        state.marcadores = [];\r\n        \r\n        //Creo los nuevos marcadores con sus respectivos popups\r\n        for (const user of users){\r\n            const [ lng, lat ] = user.Cordenadas ;\r\n\r\n            //Creación de popup\r\n            const Popup = new mapboxgl.Popup().setLngLat([ lng, lat ])\r\n            .setHTML(`\r\n            <h3>${user.Nombre}</h3>\r\n            <h4>Id: ${user.id}</h4>\r\n            <p>Coords: ${user.Cordenadas}</p>\r\n            `)\r\n            //Creación del marcador\r\n            const marcador = new mapboxgl.Marker().setLngLat([ lng, lat ]).setPopup(Popup)\r\n            state.marcadores.push( marcador );\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default mutation;","import { Module } from 'vuex';\r\nimport { StateInterface } from '../index';\r\n\r\nimport state, { PlacesState } from './state';\r\nimport actions from './actions';\r\nimport getters from './getters';\r\nimport mutations from './mutations';\r\n\r\n\r\nconst placesModule: Module<PlacesState, StateInterface> = {\r\n    namespaced: true,\r\n    actions,\r\n    getters,\r\n    mutations,\r\n    state\r\n}\r\n\r\n//El indice de mi store, donde defino: actions, getters, mutaciones y state\r\nexport default placesModule;","import { createStore } from 'vuex';\n\nimport placesModule from './places';\nimport { PlacesState } from './places/state';\n\n\nexport interface StateInterface {\n  places: PlacesState\n}\n\nexport default createStore<StateInterface>({\n  modules: {\n    places: placesModule\n  }\n});\n\n/* He cambiado el store para adaptarlo a Typescript, en 'module-template' esta la plantilla que uso.\nTambien se utilizar la plantilla original que trae vuex, pero me parece mas comoda y completa la que se puede hacer con typescript */","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\n//Importo mapboxgl y el accesToken a todo el proyecto.\r\nimport mapboxgl from 'mapbox-gl';\r\nmapboxgl.accessToken = 'pk.eyJ1IjoiY2ljbGljYSIsImEiOiJja3l5ZTlvaTAwM2ZoMm9vMTE0NGI3ZW50In0.7GB251LSlZLmELIJ4nayVA';\r\n \r\n//Hago una comprobación para verificar que el navegador soporta la geolocalizacion\r\nif(!navigator.geolocation){\r\n    alert('El navegador no soporta la Geolocalizacion.')\r\n    throw new Error('El navegador no soporta la Geolocalizacion.')\r\n}\r\n//Si el navegador no acepta o soporta la geolocalizacion no se carga la app\r\n/*He creido conveniente hacerlo asi debido al tipo de app que es. Un mapa corriente que muestre la posición de una \r\ntienda o una superficie no necesitaria cargar la geolocalizacion*/\r\n\r\n\r\ncreateApp(App).use(store).use(router).mount('#app')\r\n"],"sourceRoot":""}